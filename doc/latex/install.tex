\chapter{Installation}

The package is implemented in C++ and exported as a module to R using Rcpp.

\section{As a C++ library}

The library can be built with {\tt cmake} version 3.12 or later. The package
has been tested with  {\tt gcc}
version 8.1.0 and {\tt clang} version 9.1.0. 

Assume that the source code has been unpacked into directory
{\tt /path/to/ITR}, the following steps will build the library in
{\tt /path/to/ITR-build} and install the library in
{\tt /path/to/ITR-install}. 

\begin{verbatim}
> cd /path/to/ITR-build
> cmake /path/to/ITR -DCMAKE_INSTALL_PREFIX=/path/to/ITR-install
> make 
> make install
\end{verbatim}

This will install header file {\tt ITR.h}, {\tt Data.h},
{\tt SearchEngine.h}, and {\tt Types.h} to {\tt /path/to/ITR-install/include/itr} and {\tt libitr.a} to {\tt /path/to/ITR-install/lib}. One could also  specify a particular compiler by prefixing
{\tt CC=/path/to/c\_compiler CXX=/path/to/cpp\_compiler} to the
{\tt cmake} configuration line.

\section{As a R module}
The package can be installed by issuing

\begin{verbatim}
> R CMD INSTALL /path/to/ITR
\end{verbatim}

The package requires C++14, so you may encounter an error:

\begin{verbatim}
Error in .shlib_internal(args) : 
  C++14 standard requested but CXX14 is not defined
\end{verbatim}

If that is the case, create a personal {\tt $\sim$/.R/Makevars} file with
the following lines

\begin{verbatim}
CXX14 = g++ # or the full path to your C++14 compliant compiler
CXXFLAGS = -O2 -g $(LTO)
CXXPICFLAGS = -fPIC
CXX14STD = -std=c++14
\end{verbatim}


